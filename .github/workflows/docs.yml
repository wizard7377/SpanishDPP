name: Make docs
permissions: read-all|write-all
on: 
  workflow_dispatch:
  push:
    branches:
      - main
  pull_request:
    branches:
      - dev

jobs:
  make_docs:
    runs-on: ubuntu-20.04
    steps:
      - name: Check out repository code
        uses: actions/checkout@v3
      - name: Get Doxygen
        run: |
          sudo apt-get update
          sudo apt-get install doxygen
      - name: Generate docs
        run: |
          mkdir build
          doxygen
      - name: Upload pages to build
        uses: actions/upload-artifact@v3.1.2
        with:
          name: pages
          path: build 
      - name: Deploy GitHub Pages site
        uses: actions/deploy-pages@v1.2.9
        with:
          artifact_name: pages

  
    
